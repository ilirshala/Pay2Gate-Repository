{"ast":null,"code":"import _toConsumableArray from\"C:/Users/HP/OneDrive/Desktop/battlegames/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/HP/OneDrive/Desktop/battlegames/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={basket:[]};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.quantity*item.price+amount;},0);};function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"ADD_QUANTITY\":return _objectSpread(_objectSpread({},state),{},{basket:state.basket.map(function(item){return item.id===action.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item;})});case\"SUB_QUANTITY\":return _objectSpread(_objectSpread({},state),{},{basket:state.basket.map(function(item){return item.id===action.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity!==1?item.quantity-1:1}):item;})});case\"REMOVE_FROM_BASKET\":var newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cant remove product (id: \".concat(action.id,\") as its not in the basket!!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}}export default reducer;","map":{"version":3,"sources":["C:/Users/HP/OneDrive/Desktop/battlegames/src/Redux/reducer.js"],"names":["initialState","basket","getBasketTotal","reduce","amount","item","quantity","price","reducer","state","action","console","log","type","map","id","newBasket","index","findIndex","basketItem","splice","warn"],"mappings":"qUAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,MAAM,CAAE,EADkB,CAArB,CAIP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,MAAD,QAC5BA,CAAAA,MAD4B,SAC5BA,MAD4B,iBAC5BA,MAAM,CAAEE,MAAR,CAAe,SAACC,MAAD,CAASC,IAAT,QAAkBA,CAAAA,IAAI,CAACC,QAAL,CAAgBD,IAAI,CAACE,KAArB,CAA6BH,MAA/C,EAAf,CAAsE,CAAtE,CAD4B,EAAvB,CAGP,QAASI,CAAAA,OAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgC,CAC9BC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACE,IAAK,eAAL,CACE,sCACKJ,KADL,MAEER,MAAM,8BAAMQ,KAAK,CAACR,MAAZ,GAAoBS,MAAM,CAACL,IAA3B,EAFR,GAIF,IAAK,cAAL,CACE,sCACKI,KADL,MAEER,MAAM,CAAEQ,KAAK,CAACR,MAAN,CAAaa,GAAb,CAAiB,SAACT,IAAD,QACvBA,CAAAA,IAAI,CAACU,EAAL,GAAYL,MAAM,CAACK,EAAnB,gCACSV,IADT,MACeC,QAAQ,CAAED,IAAI,CAACC,QAAL,CAAgB,CADzC,GAEID,IAHmB,EAAjB,CAFV,GAQF,IAAK,cAAL,CACE,sCACKI,KADL,MAEER,MAAM,CAAEQ,KAAK,CAACR,MAAN,CAAaa,GAAb,CAAiB,SAACT,IAAD,QACvBA,CAAAA,IAAI,CAACU,EAAL,GAAYL,MAAM,CAACK,EAAnB,gCAESV,IAFT,MAGMC,QAAQ,CAAED,IAAI,CAACC,QAAL,GAAkB,CAAlB,CAAsBD,IAAI,CAACC,QAAL,CAAgB,CAAtC,CAA0C,CAH1D,GAKID,IANmB,EAAjB,CAFV,GAYF,IAAK,oBAAL,CACE,GAAIW,CAAAA,SAAS,oBAAOP,KAAK,CAACR,MAAb,CAAb,CACA,GAAMgB,CAAAA,KAAK,CAAGR,KAAK,CAACR,MAAN,CAAaiB,SAAb,CACZ,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACJ,EAAX,GAAkBL,MAAM,CAACK,EAAzC,EADY,CAAd,CAGA,GAAIE,KAAK,EAAI,CAAb,CAAgB,CACdD,SAAS,CAACI,MAAV,CAAiBH,KAAjB,CAAwB,CAAxB,EACD,CAFD,IAEO,CACLN,OAAO,CAACU,IAAR,oCAC8BX,MAAM,CAACK,EADrC,kCAGD,CACD,sCAAYN,KAAZ,MAAmBR,MAAM,CAAEe,SAA3B,GAEF,QACE,MAAOP,CAAAA,KAAP,CA3CJ,CA6CD,CAED,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n  basket: [],\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\n  basket?.reduce((amount, item) => item.quantity * item.price + amount, 0);\r\n\r\nfunction reducer(state, action) {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n    case \"ADD_QUANTITY\":\r\n      return {\r\n        ...state,\r\n        basket: state.basket.map((item) =>\r\n          item.id === action.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        ),\r\n      };\r\n    case \"SUB_QUANTITY\":\r\n      return {\r\n        ...state,\r\n        basket: state.basket.map((item) =>\r\n          item.id === action.id\r\n            ? {\r\n                ...item,\r\n                quantity: item.quantity !== 1 ? item.quantity - 1 : 1,\r\n              }\r\n            : item\r\n        ),\r\n      };\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      let newBasket = [...state.basket];\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.warn(\r\n          `Cant remove product (id: ${action.id}) as its not in the basket!!`\r\n        );\r\n      }\r\n      return { ...state, basket: newBasket };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}